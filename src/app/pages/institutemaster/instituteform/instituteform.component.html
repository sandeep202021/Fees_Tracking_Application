<!--back button-->
<button type="button" class="btn btn-success"  (click)="backToInstitute()">
  <i class="bi bi-arrow-left-circle"></i> Back
</button>

<div class="container-fluid py-3">
  <div class="row justify-content-center">
    <div class="col-md-6 col-lg-5">
      <div class="card shadow-sm p-4">
        <h4 class="text-center mb-4">Institute Form</h4>
        <form
          class="p-4 border rounded shadow-sm bg-light"
          [formGroup]="newInstituMasterForm"
          (ngSubmit)="savaeInstitute()"
        >
          <div class="row g-3">
            <!-- Institute Name -->
            <div class="col-md-6">
              <label for="name" class="form-label">Institute Name</label>
              <input
                type="text"
                class="form-control"
                id="name"
                formControlName="name"
                name="name"
                placeholder="Enter institute name"
                autocomplete="off"
                required
              />
              <div class="text-danger">
                @if (newInstituMasterForm.controls['name'].touched) { @if
                (newInstituMasterForm.controls['name'].errors?.['required']) {
                <span>This field is required</span>
                } }
              </div>
            </div>

            <!-- Contact No -->
            <div class="col-md-6">
              <label for="contactNo" class="form-label">Contact No</label>
              <input
                type="text"
                class="form-control"
                id="conatctNo"
                formControlName="conatctNo"
                name="conatctNo"
                placeholder="Enter contact number"
                pattern="^\d+$"
                required
                minlength="10"
                maxlength="10"
                autocomplete="off"
                required
              />
              <div class="text-danger">
                @if(newInstituMasterForm.controls['conatctNo'].touched) { @if
                (newInstituMasterForm.controls['conatctNo'].errors?.['required'])
                {
                <span>This is Mandatory</span>
                } @else if
                (newInstituMasterForm.controls['conatctNo'].errors?.['minlength'])
                {
                <span>Min 10 Char Needed</span>
                } @else if
                (newInstituMasterForm.controls['conatctNo'].errors?.['maxlength'])
                {
                <span>Max 10 Char Needed</span>
                } @else if
                (newInstituMasterForm.controls['conatctNo'].errors?.['pattern'])
                {
                <span>Only No Allowed</span>
                } }
              </div>
            </div>

            <!-- Email ID -->
            <div class="col-md-6">
              <label for="emailId" class="form-label">Email ID</label>
              <input
                type="email"
                class="form-control"
                id="emailId"
                formControlName="emailId"
                name="emailId"
                placeholder="Enter email address"
                autocomplete="off"
                pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$"
                required
              />
              <div class="text-danger">
                @if(newInstituMasterForm.controls['emailId'].errors?.['required']&&
                (newInstituMasterForm.controls['emailId'].touched ||
                newInstituMasterForm.controls['emailId'].dirty)) {
                <span>This is required</span>
                }
                @if(newInstituMasterForm.controls['emailId'].errors?.['pattern'])
                {
                <span>Email NoT Correct</span>
                }
              </div>
            </div>

            <!-- City -->
            <div class="col-md-6">
              <label for="city" class="form-label">City</label>
              <input
                type="text"
                class="form-control"
                id="city"
                formControlName="city"
                name="city"
                placeholder="Enter city"
                autocomplete="off"
              />
              <div class="text-danger">
                @if (newInstituMasterForm.controls['city'].touched) { @if
                (newInstituMasterForm.controls['city'].errors?.['required']) {
                <span>This field is required</span>
                } }
              </div>
            </div>

            <!-- Pincode -->
            <div class="col-md-6">
              <label for="pincode" class="form-label">Pincode</label>
              <input
                type="text"
                class="form-control"
                id="pincode"
                formControlName="pincode"
                name="pincode"
                placeholder="Enter pincode"
                autocomplete="off"
              />
              <div class="text-danger">
                @if (newInstituMasterForm.controls['pincode'].touched) { @if
                (newInstituMasterForm.controls['pincode'].errors?.['required'])
                {
                <span>This field is required</span>
                } }
              </div>
            </div>

            <!-- State -->
            <div class="col-md-6">
              <label for="state" class="form-label">State</label>
              <input
                type="text"
                class="form-control"
                id="state"
                formControlName="state"
                name="state"
                placeholder="Enter state"
                autocomplete="off"
              />
              <div class="text-danger">
                @if (newInstituMasterForm.controls['state'].touched) { @if
                (newInstituMasterForm.controls['state'].errors?.['required']) {
                <span>This field is required</span>
                } }
              </div>
            </div>

            <!-- Location -->
            <div class="col-md-12">
              <label for="location" class="form-label">Location</label>
              <textarea
                class="form-control"
                id="location"
                formControlName="location"
                name="location"
                rows="2"
                placeholder="Enter location or address"
                autocomplete="off"
              ></textarea>
              <div class="text-danger">
                @if (newInstituMasterForm.controls['location'].touched) { @if
                (newInstituMasterForm.controls['location'].errors?.['required'])
                {
                <span>This field is required</span>
                } }
              </div>
            </div>

            <!-- Owner Name -->
            <div class="col-md-6">
              <label for="ownerName" class="form-label">Owner Name</label>
              <input
                type="text"
                class="form-control"
                id="ownerName"
                formControlName="ownerName"
                name="ownerName"
                placeholder="Enter owner name"
                autocomplete="off"
              />
              <div class="text-danger">
                @if (newInstituMasterForm.controls['ownerName'].touched) { @if
                (newInstituMasterForm.controls['ownerName'].errors?.['required'])
                {
                <span>This field is required</span>
                } }
              </div>
            </div>

            <!-- GST No -->
            <div class="col-md-6">
              <label for="gstNo" class="form-label">GST No</label>
              <input
                type="text"
                class="form-control"
                id="gstNo"
                formControlName="gstNo"
                name="gstNo"
                placeholder="Enter GST number"
                autocomplete="off"
              />
              <div class="text-danger">
                @if (newInstituMasterForm.controls['gstNo'].touched) { @if
                (newInstituMasterForm.controls['gstNo'].errors?.['required']) {
                <span>This field is required</span>
                } }
              </div>
            </div>
          </div>

          <!-- Buttons -->
          <div class="mt-4 text-end">
            @if(newInstituMasterForm.value.instituteId==0){
            <button
              type="button"
              class="btn btn-success"
              (click)="savaeInstitute()"
              [disabled]="newInstituMasterForm.invalid"
            >
              Save
            </button>}@else{
            <button type="button" class="btn btn-warning" (click)=" UpdateInstitute()">Update</button>}
            <button
              type="button"
              class="btn btn-danger ms-2"
              (click)="onCancel()"
            >
              Reset
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
